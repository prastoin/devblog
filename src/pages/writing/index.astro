---
// Component Imports
import BaseHead from '../../components/kit/BaseHead.astro';
import BaseBody from '../../components/kit/BaseBody.astro';
import '../../styles/global.css'

import WritingPostPreview from '../../components/writing/WritingPostPreview.astro';
import { PostFrontmatter } from '../../types/PostsType';

const title = 'Paul Rastoin | writing';
const description = "Writing articles about things I'm interested in";
const permalink = 'https://example.com/';

// Data Fetching: List all Markdown posts in the repo.
const allPosts = (await Astro.glob<PostFrontmatter>('./posts/*.md')).sort(
    (a, b) =>
        new Date(b.frontmatter.publishDate).valueOf() - new Date(a.frontmatter.publishDate).valueOf(),
);

// Full Astro Component Syntax:
// https://docs.astro.build/core-concepts/astro-components/
---

<html lang="en">
    <head>
        <BaseHead title={title} description={description} permalink={permalink} />
    </head>

    <BaseBody>
        <div
            class="flex flex-col justify-evenly"
        >
            <h1 class="text-4xl mb-6 mt-2 font-bold text-dark dark:text-white">Articles</h1>
            <div aria-label="Blog post list">
                {allPosts.map(({ frontmatter: postInformation, url}, index) => <WritingPostPreview writingPostPreviewIndex={index} postInformation={{
                    ...postInformation,
                    url
                }} />)}
            </div>
        </div>
    </BaseBody>
</html>
